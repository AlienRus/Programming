"use strict";(self.webpackChunkwebpacktemplate=self.webpackChunkwebpacktemplate||[]).push([[218],{932:(t,e,s)=>{s.d(e,{k:()=>a,u:()=>i});class n{constructor(){this._callbacks=[]}_emit(t){this._callbacks.forEach((e=>e(t)))}subscribe(t){this._callbacks.push(t)}}class r extends n{constructor(){super(),this.user={login:void 0,password:void 0,email:void 0}}setUser(t,e,s){this.user={login:t,password:e,email:s}}authQuery(){return new Promise((t=>{let e;fetch("api/users/auth",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(this.user)}).then((t=>(e=t.status,t.json()))).then((s=>{t({status:e,data:s})}))}))}registerQuery(){return new Promise((t=>{let e;fetch("api/users/register",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(this.user)}).then((t=>(e=t.status,t.json()))).then((s=>{t({status:e,data:s})}))}))}}class a{static _user=null;static _createInstance(){return new r}static createInstance(){return null===a._user&&(a._user=a._createInstance()),a._user}}class o extends n{constructor(){super(),this.product={name:void 0,price:void 0,description:void 0}}setProduct(t,e,s){this.product={name:t,price:e,description:s}}getList(){return new Promise((t=>{let e;fetch("api/product/list",{method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","User-token":localStorage.getItem("AutoSellUserToken")}}).then((t=>(e=t.status,t.json()))).then((s=>{t({status:e,data:s})}))}))}delete(t){return new Promise((e=>{let s;fetch("api/product/delete",{method:"DELETE",headers:{"Content-Type":"application/json;charset=utf-8","User-token":localStorage.getItem("AutoSellUserToken"),"Delete-row":parseInt(t)}}).then((t=>(s=t.status,t.json()))).then((t=>{e({status:s,data:t})}))}))}add(){return new Promise((t=>{let e;fetch("api/product/add",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8","User-token":localStorage.getItem("AutoSellUserToken")},body:JSON.stringify(this.product)}).then((t=>(e=t.status,t.json()))).then((s=>{t({status:e,data:s})}))}))}}class i{static _product=null;static _createInstance(){return new o}static createInstance(){return null===i._product&&(i._product=i._createInstance()),i._product}}},534:()=>{class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this._render()}disconnectedCallback(){}static get observedAttributes(){return[]}attributeChangedCallback(t,e,s){}_render(){this.ownerDocument.defaultView&&(this.shadowRoot.innerHTML=" \n  <div>       \n   <button>\n    <slot></slot>  \n   </button>\n  </div>              \n")}}customElements.define("x-button",t)},362:()=>{class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.addEventListener("change",(t=>{t.stopPropagation(),this._xValue=t.target.value}))}connectedCallback(){this._render()}disconnectedCallback(){}static get observedAttributes(){}attributeChangedCallback(t,e,s){}set xValue(t){this._xValue=t,this._render()}get xValue(){return this._xValue}_render(){this.ownerDocument.defaultView&&(this.shadowRoot.innerHTML="  \n  <div>                \n   <input type='text'> \n   </input>\n  </div>             \n")}}customElements.define("x-input",t)},622:()=>{class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this._render()}disconnectedCallback(){}static get observedAttributes(){return[]}attributeChangedCallback(t,e,s){}_render(){this.ownerDocument.defaultView&&(this.shadowRoot.innerHTML=" \n  <div>\n   <slot></slot>\n  </div>              \n")}}customElements.define("x-text",t)},218:(t,e,s)=>{s.r(e),s(534),s(362),s(622);var n=s(932),r=s(659);class a extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this._render("")}disconnectedCallback(){}static get observedAttributes(){return[]}attributeChangedCallback(t,e,s){}async _btn_register_listener(t){t.stopPropagation();let e=this.shadowRoot.childNodes[3].xValue,s=this.shadowRoot.childNodes[5].xValue,r=this.shadowRoot.childNodes[7].xValue,a=n.k.createInstance();a.setUser(e,s,r);let o=await a.registerQuery();if(200==o.status){let t="Register is complete! Please, go back to login.";this._render(t)}else if(401==o.status){let t="User already exist! Try another login or email.";this._render(t)}else{let t="Server error! Try again.";this._render(t)}}_btn_back_listener(t){t.stopPropagation(),r.RouterFactory.createInstance().go("login")}_render(t){this.ownerDocument.defaultView&&(this.shadowRoot.innerHTML=function(t){return`\n    <x-text>AutoSell</x-text>\n    <x-input></x-input>\n    <x-input></x-input>\n    <x-input></x-input>\n    <x-button>Register</x-button>\n    <x-button>Back</x-button>\n    <x-text>${t}</x-text>\n`}(t),this.shadowRoot.childNodes[9].addEventListener("click",this._btn_register_listener.bind(this)),this.shadowRoot.childNodes[11].addEventListener("click",this._btn_back_listener.bind(this)))}}customElements.define("x-register_window",a);class o extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this._render()}disconnectedCallback(){}static get observedAttributes(){return[]}attributeChangedCallback(t,e,s){}_render(){this.ownerDocument.defaultView&&(this.shadowRoot.innerHTML="      \n    <x-register_window></x-register_window>\n")}}customElements.define("x-register",o)}}]);