"use strict";(self.webpackChunkwebpacktemplate=self.webpackChunkwebpacktemplate||[]).push([[772],{932:(t,e,s)=>{s.d(e,{k:()=>o,u:()=>i});class n{constructor(){this._callbacks=[]}_emit(t){this._callbacks.forEach((e=>e(t)))}subscribe(t){this._callbacks.push(t)}}class a extends n{constructor(){super(),this.user={login:void 0,password:void 0,email:void 0}}setUser(t,e,s){this.user={login:t,password:e,email:s}}authQuery(){return new Promise((t=>{let e;fetch("api/users/auth",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(this.user)}).then((t=>(e=t.status,t.json()))).then((s=>{t({status:e,data:s})}))}))}registerQuery(){return new Promise((t=>{let e;fetch("api/users/register",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(this.user)}).then((t=>(e=t.status,t.json()))).then((s=>{t({status:e,data:s})}))}))}}class o{static _user=null;static _createInstance(){return new a}static createInstance(){return null===o._user&&(o._user=o._createInstance()),o._user}}class r extends n{constructor(){super(),this.product={name:void 0,price:void 0,description:void 0}}setProduct(t,e,s){this.product={name:t,price:e,description:s}}getList(){return new Promise((t=>{let e;fetch("api/product/list",{method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","User-token":localStorage.getItem("AutoSellUserToken")}}).then((t=>(e=t.status,t.json()))).then((s=>{t({status:e,data:s})}))}))}delete(t){return new Promise((e=>{let s;fetch("api/product/delete",{method:"DELETE",headers:{"Content-Type":"application/json;charset=utf-8","User-token":localStorage.getItem("AutoSellUserToken"),"Delete-row":parseInt(t)}}).then((t=>(s=t.status,t.json()))).then((t=>{e({status:s,data:t})}))}))}add(){return new Promise((t=>{let e;fetch("api/product/add",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8","User-token":localStorage.getItem("AutoSellUserToken")},body:JSON.stringify(this.product)}).then((t=>(e=t.status,t.json()))).then((s=>{t({status:e,data:s})}))}))}}class i{static _product=null;static _createInstance(){return new r}static createInstance(){return null===i._product&&(i._product=i._createInstance()),i._product}}},534:()=>{class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this._render()}disconnectedCallback(){}static get observedAttributes(){return[]}attributeChangedCallback(t,e,s){}_render(){this.ownerDocument.defaultView&&(this.shadowRoot.innerHTML=" \n  <div>       \n   <button>\n    <slot></slot>  \n   </button>\n  </div>              \n")}}customElements.define("x-button",t)},362:()=>{class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.addEventListener("change",(t=>{t.stopPropagation(),this._xValue=t.target.value}))}connectedCallback(){this._render()}disconnectedCallback(){}static get observedAttributes(){}attributeChangedCallback(t,e,s){}set xValue(t){this._xValue=t,this._render()}get xValue(){return this._xValue}_render(){this.ownerDocument.defaultView&&(this.shadowRoot.innerHTML="  \n  <div>                \n   <input type='text'> \n   </input>\n  </div>             \n")}}customElements.define("x-input",t)},622:()=>{class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this._render()}disconnectedCallback(){}static get observedAttributes(){return[]}attributeChangedCallback(t,e,s){}_render(){this.ownerDocument.defaultView&&(this.shadowRoot.innerHTML=" \n  <div>\n   <slot></slot>\n  </div>              \n")}}customElements.define("x-text",t)},772:(t,e,s)=>{s.r(e),s(534),s(362),s(622);var n=s(932),a=s(659);class o extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this._render("")}disconnectedCallback(){}static get observedAttributes(){return[]}attributeChangedCallback(t,e,s){}async _btn_login_listener(t){t.stopPropagation();let e=this.shadowRoot.childNodes[3].xValue,s=this.shadowRoot.childNodes[5].xValue,o=n.k.createInstance();o.setUser(e,s,void 0);let r=await o.authQuery();if(200==r.status){localStorage.setItem("AutoSellUserToken",JSON.stringify(r.data));let t="Logined! Please, wait for pesponse...";this._render(t),a.RouterFactory.createInstance().go("main")}else if(401==r.status){let t="Failed to Login! Invalid Login or Password.";this._render(t)}else{let t="Server error! Try again.";this._render(t)}}_btn_register_listener(t){t.stopPropagation(),a.RouterFactory.createInstance().go("register")}_render(t){this.ownerDocument.defaultView&&(this.shadowRoot.innerHTML=function(t){return`\n    <x-text>AutoSell</x-text>\n    <x-input></x-input>\n    <x-input></x-input>\n    <x-button>Login</x-button>\n    <x-button>Register</x-button>\n    <x-text>${t}</x-text>\n`}(t),this.shadowRoot.childNodes[7].addEventListener("click",this._btn_login_listener.bind(this)),this.shadowRoot.childNodes[9].addEventListener("click",this._btn_register_listener.bind(this)))}}customElements.define("x-login_window",o);class r extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this._render()}disconnectedCallback(){}static get observedAttributes(){return[]}attributeChangedCallback(t,e,s){}_render(){this.ownerDocument.defaultView&&(this.shadowRoot.innerHTML="      \n    <x-login_window></x-login_window>\n")}}customElements.define("x-login",r)}}]);